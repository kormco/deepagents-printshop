# Magazine

## Type Metadata
- type_id: magazine
- document_class: article
- default_font_size: 11pt
- default_paper_size: letterpaper

## Rendering Instructions

Generate a professional magazine with rich visual layout, two-column article content, drop caps, pull quotes, dark-themed pages, and a full-bleed cover image. The magazine should feel dense, polished, and visually engaging — not like a plain academic paper.

### Cover Page
- Full-page background image using `\AddToShipoutPictureBG*` from `eso-pic`
- Magazine title in large, bold, white text overlaid on the cover image
- Subtitle and issue information below the title
- No page number on the cover page
- Copyright footer at bottom of cover

### Table of Contents
- Single-column format (do NOT use multicols for TOC)
- No page number on TOC page
- Clean, readable listing of all articles

### Article Layout
- Use TWO-COLUMN layout for article content with `\begin{multicols}{2}`
- Keep the Table of Contents in single-column format
- IMPORTANT PARAGRAPH FORMATTING:
  - Use standard LaTeX paragraph spacing — do NOT add manual `\vspace` between paragraphs
  - Let LaTeX handle paragraph indentation naturally
  - Do NOT use `\\` or `\newline` to force line breaks within paragraphs
- For TABLES: End multicols BEFORE the table, then restart multicols AFTER
- For FULL-WIDTH FIGURES: Same pattern — exit multicols, place `figure*`, re-enter multicols

### Typography
- Use DROP CAPS for the first letter of each article using `lettrine`:
  `\lettrine[lines=2, loversize=0.1, lraise=0.1, nindent=0.5em]{F}{irst} word`
- REDUCE LIST SPACING with `enumitem`:
  `\setlist{nosep, topsep=0pt, partopsep=0pt, itemsep=2pt}`
- Use the `\pullquote{}` and `\pullquoteattr{}{}` macros for emphasis
- Use `\articleheader{SECTION}{Title}{Byline}` macros for section headers

### Styling
- Headers should show "Deep Agents Magazine" on left, page number on right
- NO page numbers on cover page or table of contents
- Add horizontal rules between major sections
- Use the infographic macros for statistics: `\circlestat`, `\bigstat`, `\statrow`

### Dark Pages
- The conclusion/final article section should use `darkpage` environment with ALL WHITE TEXT
- NEVER use black text on dark backgrounds — use white or light colors instead
- NEVER use white text on light backgrounds — use black or dark colors instead

### Figures and Charts
- PREFER simple figure environments over `wrapfigure`
- For images within multicols: `width=\columnwidth`
- Full-width images: Exit multicols, use `figure*` environment, re-enter multicols
- The cover-image.jpg should ONLY be used on the cover page background
- Include the fake-barcode.png on the back cover/last page in the bottom corner

### Spacing and Density
- AVOID large empty whitespaces — fill space with content or reduce spacing
- Keep content dense and visually balanced throughout
- Do NOT leave half-empty pages or large gaps between sections
- Use `\vfill` sparingly — prefer natural content flow

### Back Cover
- Final page must include the fake-barcode.png image in bottom corner
- Include issue/price text below barcode
- Include "Generated by DeepAgents PrintShop" attribution

## LaTeX Requirements

### Required Packages
The magazine layout requires the full preamble from `MagazineLayoutGenerator` (`tools/magazine_layout.py`). At generation time, call `MagazineLayoutGenerator().get_full_preamble()` and include it verbatim in the document preamble.

Key packages include:
```latex
\usepackage{multicol}
\usepackage{lettrine}
\usepackage{enumitem}
\usepackage{eso-pic}
\usepackage{xcolor}
\usepackage{tikz}
\usepackage{graphicx}
\usepackage{fancyhdr}
\usepackage{geometry}
\usepackage{tcolorbox}
\usepackage{wrapfig}
\usepackage{float}
```

### Custom Macros (provided by MagazineLayoutGenerator)
- `\pullquote{text}` — styled pull quote box
- `\pullquoteattr{text}{attribution}` — pull quote with attribution
- `\articleheader{SECTION}{Title}{Byline}` — magazine article header
- `\circlestat{value}{label}` — circular statistic display
- `\bigstat{value}{label}` — large statistic display
- `\statrow` — row of statistics
- `darkpage` environment — dark background page with white text

## Structure Rules

- The document must compile cleanly with `pdflatex`
- Cover image path is relative to output directory: `../sample_content/magazine/images/cover-image.jpg`
- All content image paths follow the same pattern: `../sample_content/magazine/images/`
- Every `\begin{multicols}` must have a matching `\end{multicols}`
- Tables and full-width figures must be placed OUTSIDE of multicols environments
- The `darkpage` environment handles background color — do not manually set page color elsewhere
