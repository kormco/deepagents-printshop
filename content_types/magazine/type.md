# Magazine

## Type Metadata
- type_id: magazine
- document_class: article
- default_font_size: 11pt
- default_paper_size: letterpaper

## Rendering Instructions

Generate a professional magazine with rich visual layout, two-column article content, drop caps, pull quotes, dark-themed pages, and a full-bleed cover image. The magazine should feel dense, polished, and visually engaging — not like a plain academic paper. Professional magazines do not overlay light on light or dark on dark text such as to avoid readability issues.

### Cover Page
- Full-page background image using `\AddToShipoutPictureBG*` from `eso-pic`
- Magazine title in large, bold, white text overlaid on the cover image
- Subtitle and issue information below the title
- No page number on the cover page
- The disclaimer text and copyright footer go at the VERY BOTTOM of the cover page, INSIDE the dark gradient overlay created by `\coverfeature` — place them BELOW the feature headline/subheadline using additional TikZ nodes anchored to the page bottom (e.g. `yshift=0.6cm` and `yshift=0.3cm`)
- NEVER place disclaimer text outside the gradient overlay — it will overlap with the feature headline
- The disclaimer must appear ONLY ONCE in the entire document (on the cover page). Do NOT repeat it anywhere else
- Copyright footer at bottom of cover


### Table of Contents
- Single-column format (do NOT use multicols for TOC)
- No page number on TOC page
- Clean, readable listing of all articles

### Article Layout
- Use TWO-COLUMN layout for article content with `\begin{multicols}{2}`
- Keep the Table of Contents in single-column format
- IMPORTANT PARAGRAPH FORMATTING:
  - Use standard LaTeX paragraph spacing — do NOT add manual `\vspace` between paragraphs
  - Let LaTeX handle paragraph indentation naturally
  - Do NOT use `\\` or `\newline` to force line breaks within paragraphs
- For TABLES: End multicols BEFORE the table, then restart multicols AFTER
- For FULL-WIDTH FIGURES: Same pattern — exit multicols, place `figure*`, re-enter multicols

### Typography
- Use DROP CAPS for the first letter of each article using `lettrine`:
  `\lettrine[lines=2, loversize=0.1, lraise=0.1, nindent=0.5em]{F}{irst} word`
- REDUCE LIST SPACING with `enumitem`:
  `\setlist{nosep, topsep=0pt, partopsep=0pt, itemsep=2pt}`
- Use the `\pullquote{}` and `\pullquoteattr{}{}` macros for emphasis
- Use `\articleheader{SECTION}{Title}{Byline}` macros for section headers

### Styling
- Headers should show "Deep Agents Magazine" on left, page number on right
- NO page numbers on cover page or table of contents
- Add horizontal rules between major sections
- Use the infographic macros for statistics: `\circlestat`, `\bigstat`, `\statrow`

### Sidebars
- Use `tcolorbox` sidebars for technical details, supplementary context, or glossary terms
- Place sidebars within the two-column flow where they complement adjacent article content
- Keep sidebar text concise — 3-5 sentences maximum

### Dark Pages
- The conclusion/final article section should use `darkpage` environment with ALL WHITE TEXT
- NEVER use black text on dark backgrounds — use white or light colors instead
- NEVER use white text on light backgrounds — use black or dark colors instead

### Figures and Charts
- PREFER simple figure environments over `wrapfigure`
- For images within multicols: `width=\columnwidth`
- Full-width images: Exit multicols, use `figure*` environment, re-enter multicols
- The cover-image.jpg should ONLY be used on the cover page background
- Include the fake-barcode.png on the back cover/last page in the bottom corner

### Spacing and Density
- AVOID large empty whitespaces — fill space with content or reduce spacing
- Keep content dense and visually balanced throughout
- Do NOT leave half-empty pages or large gaps between sections
- Use `\vfill` sparingly — prefer natural content flow

### Back Cover
- Final page must include the fake-barcode.png image in bottom corner
- Include issue/price text below barcode
- Include "Generated by DeepAgents PrintShop" attribution

## LaTeX Requirements

### Required Packages
```latex
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage{lmodern}
\usepackage{microtype}
\usepackage{tikz}
\usepackage{eso-pic}
\usepackage{contour}
\usepackage{lettrine}
\usepackage{multicol}
\usepackage{enumitem}
\usepackage{xcolor}
\usepackage{graphicx}
\usepackage{geometry}
\usepackage{fancyhdr}
\usepackage{tcolorbox}
\usepackage{rotating}
\usepackage{wrapfig}
\usepackage{float}
\usepackage{calc}
\usepackage{caption}
\usepackage{booktabs}
\usepackage{array}
\usepackage{hyperref}

% TikZ libraries
\usetikzlibrary{positioning, calc, shapes, backgrounds, fit}
```

### Color Definitions
```latex
\definecolor{magprimary}{HTML}{2E86AB}
\definecolor{magsecondary}{HTML}{A23B72}
\definecolor{magaccent}{HTML}{F18F01}
\definecolor{magdark}{HTML}{1A1A2E}
\definecolor{maglight}{HTML}{F5F5F5}
```

### Page Setup
```latex
\geometry{margin=0.75in}
\pagestyle{fancy}
\fancyhf{}
\fancyhead[L]{\small\sffamily Deep Agents Magazine}
\fancyhead[R]{\small\sffamily\thepage}
\renewcommand{\headrulewidth}{0.4pt}
\setlist{nosep, topsep=0pt, partopsep=0pt, itemsep=2pt}

% Magazine-style captions: no "Figure N:" prefix, use italic sans-serif
\captionsetup[figure]{labelformat=empty, font={sf,small}, textfont={it}}
\captionsetup[table]{labelformat=empty, font={sf,small}, textfont={it}}
```

### Custom Macro Definitions
```latex
% Magazine Masthead - Large title at top of cover
% Usage: \masthead{MAIN TITLE}{subtitle}
\newcommand{\masthead}[2]{%
  \begin{tikzpicture}[remember picture, overlay]
    % Main title - large and bold
    \node[anchor=north, font=\fontsize{64}{64}\selectfont\bfseries\sffamily, text=white]
      at ([yshift=-2cm]current page.north) {#1};
    % Subtitle - smaller, lighter weight
    \node[anchor=north, font=\fontsize{18}{20}\selectfont\sffamily, text=white]
      at ([yshift=-3.5cm]current page.north) {#2};
  \end{tikzpicture}%
}

% Masthead with shadow for better readability
% Usage: \mastheadshadow{MAIN TITLE}{subtitle}
\newcommand{\mastheadshadow}[2]{%
  \begin{tikzpicture}[remember picture, overlay]
    % Shadow layer
    \node[anchor=north, font=\fontsize{64}{64}\selectfont\bfseries\sffamily, text=black, opacity=0.5]
      at ([yshift=-1.95cm, xshift=0.1cm]current page.north) {#1};
    % Main title
    \node[anchor=north, font=\fontsize{64}{64}\selectfont\bfseries\sffamily, text=white]
      at ([yshift=-2cm]current page.north) {#1};
    % Subtitle
    \node[anchor=north, font=\fontsize{18}{20}\selectfont\sffamily, text=white]
      at ([yshift=-3.5cm]current page.north) {#2};
  \end{tikzpicture}%
}

% Left side callout (positioned on left of cover)
% Usage: \leftcallout{y-offset}{HEADLINE}{subtext}
\newcommand{\leftcallout}[3]{%
  \begin{tikzpicture}[remember picture, overlay]
    \node[anchor=west, align=left, text width=5cm,
          font=\sffamily, text=white]
      at ([xshift=1.5cm, yshift=#1]current page.west) {%
        {\fontsize{11}{13}\selectfont\bfseries #2}\\[3pt]
        {\fontsize{9}{11}\selectfont #3}%
      };
  \end{tikzpicture}%
}

% Right side callout (positioned on right of cover)
% Usage: \rightcallout{y-offset}{HEADLINE}{subtext}
\newcommand{\rightcallout}[3]{%
  \begin{tikzpicture}[remember picture, overlay]
    \node[anchor=east, align=right, text width=5cm,
          font=\sffamily, text=white]
      at ([xshift=-1.5cm, yshift=#1]current page.east) {%
        {\fontsize{11}{13}\selectfont\bfseries #2}\\[3pt]
        {\fontsize{9}{11}\selectfont #3}%
      };
  \end{tikzpicture}%
}

% Feature headline at bottom of cover
% Usage: \coverfeature{MAIN HEADLINE}{subheadline}
\newcommand{\coverfeature}[2]{%
  \begin{tikzpicture}[remember picture, overlay]
    % Dark gradient overlay at bottom
    \fill[black, opacity=0.6]
      (current page.south west) rectangle ([yshift=5cm]current page.south east);
    % Main headline
    \node[anchor=south, font=\fontsize{42}{44}\selectfont\bfseries\sffamily, text=white]
      at ([yshift=2.5cm]current page.south) {#1};
    % Subheadline
    \node[anchor=south, font=\fontsize{14}{16}\selectfont\itshape, text=white]
      at ([yshift=1.5cm]current page.south) {#2};
  \end{tikzpicture}%
}

% Vertical text element (like "ISSUE 01")
% Usage: \verticaltext{x-offset}{TEXT}
\newcommand{\verticaltext}[2]{%
  \begin{tikzpicture}[remember picture, overlay]
    \node[anchor=center, rotate=90, font=\fontsize{10}{10}\selectfont\sffamily\bfseries,
          text=white, opacity=0.9]
      at ([xshift=#1, yshift=0cm]current page.west) {#2};
  \end{tikzpicture}%
}

% Creative Contents Page with Large Numbers
% Usage: \contentsentry{PAGE}{TITLE}{description}
\newcommand{\contentsentry}[3]{%
  \noindent
  \begin{minipage}[t]{0.15\textwidth}
    \raggedleft
    {\fontsize{36}{38}\selectfont\color{magprimary}\bfseries #1}%
  \end{minipage}%
  \hspace{0.5cm}%
  \begin{minipage}[t]{0.75\textwidth}
    {\fontsize{12}{14}\selectfont\bfseries #2}\\[2pt]
    {\fontsize{9}{11}\selectfont\color{gray} #3}%
  \end{minipage}%
  \vspace{0.8cm}
}

% Dark page environment (full page dark background)
% Usage: darkpage environment wraps content in a full-page dark background
\newenvironment{darkpage}{%
  \newpage
  \pagecolor{magdark}%
  \color{white}%
  \thispagestyle{empty}%
}{%
  \newpage
  \nopagecolor
  \color{black}%
}

% Accent page environment (colored background)
% Usage: accentpage environment wraps content in a colored background
\newenvironment{accentpage}{%
  \newpage
  \pagecolor{magprimary}%
  \color{white}%
  \thispagestyle{empty}%
}{%
  \newpage
  \nopagecolor
  \color{black}%
}

% Dark section box (inline dark background)
% Usage: darksection tcolorbox for inline dark background blocks
\newtcolorbox{darksection}{%
  colback=magdark,
  colframe=magdark,
  coltext=white,
  boxrule=0pt,
  arc=0pt,
  left=15pt,
  right=15pt,
  top=15pt,
  bottom=15pt,
  width=\textwidth
}

% Light section box
\newtcolorbox{lightsection}{%
  colback=maglight,
  colframe=maglight,
  coltext=magdark,
  boxrule=0pt,
  arc=0pt,
  left=15pt,
  right=15pt,
  top=15pt,
  bottom=15pt,
  width=\textwidth
}

% Circle statistic display
% Usage: \circlestat{percentage}{label}
\newcommand{\circlestat}[2]{%
  \begin{tikzpicture}
    \draw[magprimary, line width=3pt] (0,0) circle (1.2cm);
    \node[font=\fontsize{20}{20}\selectfont\bfseries] at (0,0) {#1\%};
    \node[font=\fontsize{8}{10}\selectfont, text width=2.5cm, align=center]
      at (0,-1.8) {#2};
  \end{tikzpicture}%
}

% Large number callout (for statistics)
% Usage: \bigstat{NUMBER}{label}
\newcommand{\bigstat}[2]{%
  \begin{minipage}{3cm}
    \centering
    {\fontsize{36}{38}\selectfont\bfseries\color{magprimary} #1}\\[5pt]
    {\fontsize{9}{11}\selectfont #2}
  \end{minipage}%
}

% Row of circle stats
% Usage: \statrow{\circlestat{25}{Label 1}}{\circlestat{50}{Label 2}}{\circlestat{75}{Label 3}}
\newcommand{\statrow}[3]{%
  \begin{center}
    #1\hspace{1.5cm}#2\hspace{1.5cm}#3
  \end{center}
}

% Pull quote styling
% Usage: \pullquote{Quote text here}
\newcommand{\pullquote}[1]{%
  \begin{center}
    \begin{minipage}{0.85\textwidth}
      \vspace{1em}
      {\color{magprimary}\rule{\textwidth}{2pt}}\\[0.8em]
      {\fontsize{16}{20}\selectfont\itshape ``#1''}\\[0.5em]
      {\color{magprimary}\rule{\textwidth}{2pt}}
      \vspace{1em}
    \end{minipage}
  \end{center}
}

% Pull quote with attribution
% Usage: \pullquoteattr{Quote text}{Author Name}
\newcommand{\pullquoteattr}[2]{%
  \begin{center}
    \begin{minipage}{0.85\textwidth}
      \vspace{1em}
      {\color{magprimary}\rule{\textwidth}{2pt}}\\[0.8em]
      {\fontsize{16}{20}\selectfont\itshape ``#1''}\\[0.5em]
      {\fontsize{10}{12}\selectfont\bfseries --- #2}\\[0.3em]
      {\color{magprimary}\rule{\textwidth}{2pt}}
      \vspace{1em}
    \end{minipage}
  \end{center}
}

% Article header with section tag
% Usage: \articleheader{SECTION TAG}{Article Title}{Subtitle or byline}
\newcommand{\articleheader}[3]{%
  \vspace*{0.5cm}
  {\fontsize{9}{10}\selectfont\sffamily\bfseries\color{magprimary} #1}\\[0.3cm]
  {\fontsize{28}{32}\selectfont\bfseries #2}\\[0.3cm]
  {\fontsize{11}{13}\selectfont\color{gray} #3}\\[0.8cm]
}

% Simple large article title
% Usage: \articletitle{Title Here}
\newcommand{\articletitle}[1]{%
  \vspace*{0.5cm}
  {\fontsize{32}{36}\selectfont\bfseries #1}\\[0.8cm]
}
```

## Structure Rules

- The document must compile cleanly with `pdflatex`
- Cover image path is relative to output directory: `../../sample_content/magazine/images/cover-image.jpg`
- All content image paths follow the same pattern: `../../sample_content/magazine/images/`
- Every `\begin{multicols}` must have a matching `\end{multicols}`
- Tables and full-width figures must be placed OUTSIDE of multicols environments
- The `darkpage` environment handles background color — do not manually set page color elsewhere
